<nav class="sm:w-11/12">
    <div class="flex justify-between items-center">
        <div class="flex-initial">
            <a href="/" class="flex items-start py-5 px-3 text-white">
                <span class="text-5xl">Binsta</span>
            </a>
        </div>

        <!-- Hamburger menu button -->
        <div class="hamburger-container sm:hidden">
            <button id="hamburger-menu" class="hamburger-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>

        <!-- Desktop navigation links (unchanged) -->
        <div class="hidden sm:flex sm:items-center space-x-4">
            <a href="/" class="py-5 px-3 text-gray-700">Home</a>
            {% if isLoggedIn %}
                <a href="/create" class="py-5 px-3 text-gray-700">Create Post</a>
                <div class="relative">
                    {% if profile_picture %}
                        <img id="profile-avatar" src="/{{ profile_picture }}" alt="{{ username }}" class="w-10 h-10 rounded-full cursor-pointer">
                    {% else %}
                        <div id="profile-avatar" class="w-10 h-10 flex items-center justify-center rounded-full bg-gray-500 text-white text-lg font-bold uppercase cursor-pointer">
                            {{ username | slice(0,1) | upper }}
                        </div>
                    {% endif %}
                    <div id="profile-dropdown-menu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-10">
                        <a href="/profile/{{ username }}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Profile</a>
                        <a href="/logout" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Logout</a>
                    </div>
                </div>
            {% else %}
                <a href="/login" class="py-5 px-3 text-gray-700">Login</a>
                <a href="/register" class="py-5 px-3 text-gray-700">Register</a>
            {% endif %}
        </div>
    </div>

    <!-- Mobile menu (hidden by default) -->
    <div id="mobile-menu" class="hidden bg-gray-800 text-white space-y-2 px-4 py-3">
        <a href="/" class="block underline">Home</a>
        {% if isLoggedIn %}
            <a href="/create" class="block underline">Create Post</a>
            <a href="/profile/{{ username }}" class="block underline">Profile</a>
            <a href="/logout" class="block underline pb-3">Logout</a>
            <div class="relative">
                {% if profile_picture %}
                    <img id="profile-avatar" src="/{{ profile_picture }}" alt="{{ username }}" class="w-10 h-10 rounded-full">
                {% else %}
                    <div id="profile-avatar" class="w-10 h-10 flex items-center justify-center rounded-full bg-gray-500 text-white text-lg font-bold uppercase cursor-pointer">
                        {{ username | slice(0,1) | upper }}
                    </div>
                {% endif %}
            </div>
        {% else %}
            <a href="/login" class="block py-2">Login</a>
            <a href="/register" class="block py-2">Register</a>
        {% endif %}
    </div>
</nav>


<script>
    document.addEventListener("DOMContentLoaded", function () {
        const hamburgerMenu = document.getElementById("hamburger-menu");
        const mobileMenu = document.getElementById("mobile-menu");

        hamburgerMenu.addEventListener("click", function () {
            // Toggle de actieve klasse voor de hamburger en de mobile menu
            hamburgerMenu.classList.toggle("active");
            mobileMenu.classList.toggle("hidden");
        });
    });
</script>
